root = true

[*]
charset = utf-8
end_of_line = lf
insert_final_newline = true
trim_trailing_whitespace = true

[*.cs]
indent_style = space
indent_size = 4

# Essential project preferences
csharp_style_var_for_built_in_types = false:error
csharp_style_var_when_type_is_apparent = false:error
csharp_style_var_elsewhere = false:error
csharp_prefer_braces = true:warning
csharp_using_directive_placement = outside_namespace:warning
csharp_style_namespace_declarations = file_scoped:warning
dotnet_style_require_accessibility_modifiers = for_non_interface_members:warning
dotnet_sort_system_directives_first = true

# Project-specific IDE rules
csharp_style_unused_value_expression_statement_preference = unused_local_variable:warning
dotnet_diagnostic.IDE0046.severity = suggestion
dotnet_diagnostic.IDE0066.severity = silent

# Analyzer settings: default to error; see overrides below
dotnet_analyzer_diagnostic.category-design.severity = error
dotnet_analyzer_diagnostic.category-globalization.severity = error
dotnet_analyzer_diagnostic.category-maintainability.severity = error
dotnet_analyzer_diagnostic.category-naming.severity = error
dotnet_analyzer_diagnostic.category-performance.severity = error
dotnet_analyzer_diagnostic.category-reliability.severity = error
dotnet_analyzer_diagnostic.category-security.severity = error
dotnet_analyzer_diagnostic.category-style.severity = error
dotnet_analyzer_diagnostic.category-usage.severity = error

# Project-specific rule overrides
dotnet_diagnostic.CA1031.severity = none # Do not catch general exception types - MOD safety
dotnet_diagnostic.IDE0058.severity = none # Expression value is never used - UIBuilder patterns
dotnet_diagnostic.IDE0290.severity = none # Use primary constructor (C# 12) - compatibility
dotnet_diagnostic.CA1515.severity = none # Tests are intentionally internal; rule is noisy for this repo

[*.{xml,config,props,targets,resx}]
indent_size = 2

[*.{json,yml,yaml}]
indent_size = 2

[*.md]
trim_trailing_whitespace = false
